<!--<!DOCTYPE html>-->
<!--&lt;!&ndash;suppress ALL &ndash;&gt;-->
<!--<html lang="en">-->
<!--<head>-->
<!--<meta charset="UTF-8">-->
<!--<title>Weather API</title>-->
<!--<script type="text/javascript" src="getWeatherInfo.js"></script>-->
<!--<script type="text/javascript" src="../bower_components/jquery/dist/jquery.js"></script>-->
<!--<script type="text/javascript" src="../bower_components/jquery/dist/jquery.min.js"></script>-->
<!--<style>-->
<!--#userArea {-->
<!--margin-top: 10px;-->
<!--}-->

<!--#weatherResult {-->
<!--margin-top: 10px;-->
<!--}-->

<!--#weatherWrapper {-->
<!--margin-top: 10px;-->
<!--}-->
<!--</style>-->

<!--<style>-->
<!--#userArea {-->
<!--margin-top: 10px;-->
<!--}-->

<!--#weatherWrapper {-->
<!--margin-top: 10px;-->
<!--}-->
<!--</style>-->
<!--</head>-->
<!--<body>-->
<!--&lt;!&ndash;<script type="text/javascript">&ndash;&gt;-->

<!--&lt;!&ndash;$(document).ready(function () {&ndash;&gt;-->
<!--&lt;!&ndash;mainWeather.init();&ndash;&gt;-->
<!--&lt;!&ndash;});&ndash;&gt;-->
<!--&lt;!&ndash;</script>&ndash;&gt;-->
<!--<div id="userArea" class="container">-->
<!--<div id="stateWrapper">-->
<!--<input type="text" id="cityInput" placeholder="Enter a State"/>-->
<!--</div>-->
<!--<br/>-->
<!--<div id="countryWrapper">-->
<!--<input type="text" id="countryInput" placeholder="Enter a Country"/>-->
<!--</div>-->
<!--<div id="cityIDNumber">-->
<!--<input type="text" id="cityIDNumber" placeholder="City ID number"/>-->
<!--</div>-->
<!--<br/>-->
<!--<div id="buttonArea">-->
<!--<input type="submit" id="submitWeather" />-->
<!--<br/>-->
<!--</div>-->
<!--<!- USED TO SHOW RESULT &ndash;&gt;-->
<!--<div id="weatherWrapper">-->
<!--</div>-->
<!--<script type="text/javascript">-->
<!--var mainWeather = {-->
<!--init: function () {-->
<!--$("#submitWeather").click(function () {-->
<!--return mainWeather.getWeather();-->
<!--});-->
<!--},-->

<!--getWeather: function () {-->

<!--//                    $.get('http://api.openweathermap.org/data/2.5/weather?q=' + $("#cityInput").val() + "," + $("#countryInput").val() + "&APPID=90218217a5640940a557861baa80b780", function (data) {-->
<!--$.get('http://api.openweathermap.org/data/2.5/weather?id=' + $("#cityIDNumber").val()+"&APPID=96a90dab7bc2736b9631b84df00d803c", function (data) {-->
<!--var json = {-->
<!--json: JSON.stringify(data),-->
<!--delay: 1-->
<!--};-->
<!--echo(json);-->
<!--});-->
<!--},-->

<!--//Prints result from the weatherapi, receiving as param an object-->
<!--createWeatherWidg: function (data) {-->
<!--return "<div class='pressure'> <p>Temperature: " + (data.main.temp - 273.15).toFixed(2) + " C</p></div>" +-->
<!--"<div class='description'> <p>Title: " + data.weather[0].main + "</p></div>" +-->
<!--"<div class='description'> <p>Description: " + data.weather[0].description + "</p></div>" +-->
<!--"<div class='wind'> <p>Wind Speed: " + data.wind.speed + "</p></div>" +-->
<!--"<div class='humidity'> <p>Humidity: " + data.main.humidity + "%</p></div>" +-->
<!--"<div class='pressure'> <p>Pressure: " + data.main.pressure + " hpa</p></div>";-->
<!--}-->
<!--};-->

<!--var echo = function (dataPass) {-->
<!--$.ajax({-->
<!--type: "POST",-->
<!--url: "/echo/json/",-->
<!--data: dataPass,-->
<!--cache: false,-->
<!--success: function (json) {-->
<!--var wrapper = $("#weatherWrapper");-->
<!--wrapper.empty();-->
<!--wrapper.append("<div class='city'> <p>Place:" + json.name + "," + json.sys.country + "</p></div>");-->
<!--wrapper.append(mainWeather.createWeatherWidg(json));-->
<!--}-->
<!--});-->
<!--};-->

<!--mainWeather.init();-->

<!--</script>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather layer</title>
    <style>
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        #map-canvas {
            width: 100%;
            height: 100%;
        }

        .gm-style-iw {
            text-align: center;
        }
    </style>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js">
    </script>
    <!--<script>-->
    <!--var map;-->
    <!--var geoJSON;-->
    <!--var request;-->
    <!--var gettingData = false;-->
    <!--var openWeatherMapKey = "ABC..."-->
    <!--function initialize() {-->

    <!--var mapOptions = {-->
    <!--zoom: 12,-->
    <!--center: new google.maps.LatLng(59.3004, 18.0722)-->
    <!--//                center: new google.maps.LatLng(latAndLon)-->
    <!--};-->
    <!--map = new google.maps.Map(document.getElementById('map-canvas'),-->
    <!--mapOptions);-->
    <!--// Add interaction listeners to make weather requests-->
    <!--google.maps.event.addListener(map, 'idle', checkIfDataRequested);-->
    <!--// Sets up and populates the info window with details-->
    <!--map.data.addListener('click', function(event) {-->
    <!--infowindow.setContent(-->
    <!--"<img src=" + event.feature.getProperty("icon") + ">"-->
    <!--+ "<br /><strong>" + event.feature.getProperty("city") + "</strong>"-->
    <!--+ "<br />" + event.feature.getProperty("temperature") + "&deg;C"-->
    <!--+ "<br />" + event.feature.getProperty("weather")-->
    <!--);-->
    <!--infowindow.setOptions({-->
    <!--position:{-->
    <!--lat: event.latLng.lat(),-->
    <!--lng: event.latLng.lng()-->
    <!--},-->
    <!--pixelOffset: {-->
    <!--width: 0,-->
    <!--height: -15-->
    <!--}-->
    <!--});-->
    <!--infowindow.open(map);-->
    <!--});-->
    <!--}-->
    <!--var checkIfDataRequested = function() {-->
    <!--// Stop extra requests being sent-->
    <!--while (gettingData === true) {-->
    <!--request.abort();-->
    <!--gettingData = false;-->
    <!--}-->
    <!--getCoords();-->
    <!--};-->
    <!--// Get the coordinates from the Map bounds-->
    <!--var getCoords = function() {-->
    <!--var bounds = map.getBounds();-->
    <!--var NE = bounds.getNorthEast();-->
    <!--var SW = bounds.getSouthWest();-->
    <!--getWeather(NE.lat(), NE.lng(), SW.lat(), SW.lng());-->
    <!--};-->
    <!--// Make the weather request-->
    <!--var getWeather = function(northLat, eastLng, southLat, westLng) {-->
    <!--gettingData = true;-->
    <!--var requestString = "http://api.openweathermap.org/data/2.5/box/city?bbox="-->
    <!--+ westLng + "," + northLat + "," //left top-->
    <!--+ eastLng + "," + southLat + "," //right bottom-->
    <!--+ map.getZoom()-->
    <!--+ "&cluster=yes&format=json"-->
    <!--+ "&APPID=" + openWeatherMapKey;-->
    <!--request = new XMLHttpRequest();-->
    <!--request.onload = proccessResults;-->
    <!--request.open("get", requestString, true);-->
    <!--request.send();-->
    <!--};-->
    <!--// Take the JSON results and proccess them-->
    <!--var proccessResults = function() {-->
    <!--console.log(this);-->
    <!--var results = JSON.parse(this.responseText);-->
    <!--if (results.list.length > 0) {-->
    <!--resetData();-->
    <!--for (var i = 0; i < results.list.length; i++) {-->
    <!--geoJSON.features.push(jsonToGeoJson(results.list[i]));-->
    <!--}-->
    <!--drawIcons(geoJSON);-->
    <!--}-->
    <!--};-->
    <!--var infowindow = new google.maps.InfoWindow();-->
    <!--// For each result that comes back, convert the data to geoJSON-->
    <!--var jsonToGeoJson = function (weatherItem) {-->
    <!--var feature = {-->
    <!--type: "Feature",-->
    <!--properties: {-->
    <!--city: weatherItem.name,-->
    <!--weather: weatherItem.weather[0].main,-->
    <!--temperature: weatherItem.main.temp,-->
    <!--min: weatherItem.main.temp_min,-->
    <!--max: weatherItem.main.temp_max,-->
    <!--humidity: weatherItem.main.humidity,-->
    <!--pressure: weatherItem.main.pressure,-->
    <!--windSpeed: weatherItem.wind.speed,-->
    <!--windDegrees: weatherItem.wind.deg,-->
    <!--windGust: weatherItem.wind.gust,-->
    <!--icon: "http://openweathermap.org/img/w/"-->
    <!--+ weatherItem.weather[0].icon  + ".png",-->
    <!--coordinates: [weatherItem.coord.lon, weatherItem.coord.lat]-->
    <!--},-->
    <!--geometry: {-->
    <!--type: "Point",-->
    <!--coordinates: [weatherItem.coord.lon, weatherItem.coord.lat]-->
    <!--}-->
    <!--};-->
    <!--// Set the custom marker icon-->
    <!--map.data.setStyle(function(feature) {-->
    <!--return {-->
    <!--icon: {-->
    <!--url: feature.getProperty('icon'),-->
    <!--anchor: new google.maps.Point(25, 25)-->
    <!--}-->
    <!--};-->
    <!--});-->
    <!--// returns object-->
    <!--return feature;-->
    <!--};-->
    <!--// Add the markers to the map-->
    <!--var drawIcons = function (weather) {-->
    <!--map.data.addGeoJson(geoJSON);-->
    <!--// Set the flag to finished-->
    <!--gettingData = false;-->
    <!--};-->
    <!--// Clear data layer and geoJSON-->
    <!--var resetData = function () {-->
    <!--geoJSON = {-->
    <!--type: "FeatureCollection",-->
    <!--features: []-->
    <!--};-->
    <!--map.data.forEach(function(feature) {-->
    <!--map.data.remove(feature);-->
    <!--});-->
    <!--};-->
    <!--google.maps.event.addDomListener(window, 'load', initialize);-->
    <!--</script>-->
</head>
<body>

<div id="map-canvas"></div>

</body>
</html>